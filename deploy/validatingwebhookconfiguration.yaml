apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: validator-webhook
webhooks:
  - name: validator-webhook.carsonanderson.net
    clientConfig:
      service:
        name: validator
        namespace: default
        path: "/validate"
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN0RENDQVp3Q0NRQ1FJSXU3djMyOFFUQU5CZ2txaGtpRzl3MEJBUXNGQURBY01Sb3dHQVlEVlFRRERCRlcKWVd4cFpHRjBiM0lnVjJWaWFHOXZhekFlRncweU1EQXhNVFV3TVRNeU5EZGFGdzB5TURBeU1UUXdNVE15TkRkYQpNQnd4R2pBWUJnTlZCQU1NRVZaaGJHbGtZWFJ2Y2lCWFpXSm9iMjlyTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGCkFBT0NBUThBTUlJQkNnS0NBUUVBcGxrelk2YlF3N25HOHVNajNuMzlnSmhGQVpsYmJKTTd1enoxWi9RYTZMdVcKejV4VE5QdFYzT25ad0dlQUtZaDNKUUhtUXpWeE9yTUl5ZTBQUktPZUdqOXArRUJvT3lYazhOUHd5OGxSMnkxVwpuMVV5YTRKc0NSMlNDWFZrTUR2d1o3dXNRYmI5YjFDcE1WdWVxZVUvZXRCNDUvYThBS2c2bFZlRWwxMFJSaSsxCkcrbjdLak5yWEhnVGxvcDlTSFZ0TDVKbmx1Y3pZeGVsNlFNV0RFRUQ3Q1FLY1hpaEZETHBMcUpUK0wzOTdVaG0KWjllR1NOTDNFaHFlbzU1TjFVYlhuc0REQXlFZmtqbzFlaDNkNzcrL3ZLcjJOdEVUTHBnWEM1SHI4U3gwdFhZcQp1dlNSd1FQSTJzRWw3enUrNkl0MWYyN1BSNGl2MDFRdFN6ZmZKQW13eVFJREFRQUJNQTBHQ1NxR1NJYjNEUUVCCkN3VUFBNElCQVFDUTJiMGJQYlMxYlBQN3creGJSakxCVGwrVlhsNEt1djR6OUxBTmJWSFc0bG1yUFo4dEhUYUYKYnpEYkt5SmU3VUxBcGorVUs0WExaNnQ3eG5BeWdycHFTQ3Jmazl4Y1cyUkh5Q0hDZWJ0blZ1K2g4Y0pQcGk0QgpDTHFTWXhTbVM0eldGSkZoU3JFSTBHeTRoK0ZOYyt6VDdXdy8rdFZ0Y0NBN0doMFc3azV5QllEMEcvTlNLKzFYClYrNGs3NkdjTVdJbHZuWlB3dEJ6UkxLSER2UEF1dnJ6VkFZcEh6ZkFjT3BBQ2RQTTBxdis2ZTJaOVBMVFNsRHUKVVFQRDBLc0pWWkFWUVZubDZnMHhjV1I1N0VoMzZFQ0dNUlU1UmZ1bStxTTJOcGU2OElUWTRmTkFHNUo4L2JqWgppYlgybWVaNjJuZXh1RHBjVzRLWGQvUHZTeS83NGRjdQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    rules:
      - operations: [ "CREATE", "UPDATE" ]
        apiGroups: ["apps", ""]
        apiVersions: ["v1"]
        resources: ["pods","services"]
    namespaceSelector:
      matchLabels:
        validator: enabled

